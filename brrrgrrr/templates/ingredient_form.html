{% extends 'base.html' %}

{% block title %}{{ form.instance.pk|yesno:"Edit Ingredient,Add Ingredient" }}{% endblock %}

{% block content %}
<h2>{{ form.instance.pk|yesno:"Edit Ingredient,Add Ingredient" }}</h2>
<form method="post" enctype="multipart/form-data" class="mt-4">
    {% csrf_token %}
    
    <!-- Ingredient Name -->
    <div class="form-group">
        <label for="{{ form.name.id_for_label }}">Ingredient Name</label>
        {{ form.name }}
        {% if form.name.errors %}
            <div class="text-danger">{{ form.name.errors }}</div>
        {% endif %}
    </div>

    <!-- Ingredient Price -->
    <div class="form-group">
        <label for="{{ form.price.id_for_label }}">Price</label>
        {{ form.price }}
        {% if form.price.errors %}
            <div class="text-danger">{{ form.price.errors }}</div>
        {% endif %}
    </div>

    <!-- Ingredient Availability -->
    <div class="form-group form-check">
        <input type="hidden" name="is_available" value="False">  <!-- This line is crucial -->
        {{ form.is_available }}  <!-- This renders the checkbox -->
        <label for="{{ form.is_available.id_for_label }}" class="form-check-label">Available</label>
        {% if form.is_available.errors %}
            <div class="text-danger">{{ form.is_available.errors }}</div>
        {% endif %}
    </div>
    
    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">{{ form.instance.pk|yesno:"Update,Add" }}</button>
    <a href="{% url 'ingredient_list' %}" class="btn btn-outline-secondary mt-3">Back to Ingredients</a>
</form>
{% endblock %}